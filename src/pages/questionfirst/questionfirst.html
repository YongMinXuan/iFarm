<ion-header >
  <ion-navbar >
    <ion-title text-center>
      Events Page
    </ion-title>
    <ion-buttons end>
      <button ion-button icon-only clear (click)="addDocument()">
        <ion-icon ios="ios-add-circle" md="md-add-circle"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
  
</ion-header>

<ion-content no-padding class="card-background-page">
    <ion-refresher (ionRefresh)="refresh($event)">
        <ion-refresher-content></ion-refresher-content>
      </ion-refresher>
      <ion-item-sliding  text-wrap style = "margin-bottom: 30px" no-lines>
      <ion-item *ngFor='let location of locations' no-lines>
      <ion-card div class="card">
          <img [src] = "location.image">
        <ion-item>
          <h1>{{location.city}}</h1>
          <p>{{ location.population}}</p>
        </ion-item>
      <ion-item>
          <ion-icon style="color: #ADD4CE" name="calendar" item-start large></ion-icon>
          <h2>{{ location.StartDate }} - {{ location.EndDate }}</h2>
          <p> {{ location.StartTime }} - {{ location.EndTime }}</p>
      </ion-item>
      
        <ion-item>
          <ion-icon style="color: #ADD4CE" name="compass" item-start large ></ion-icon>
          <h2>{{ location.location}}</h2>
          <!-- <p>14 S. Hop Avenue, Madison, WI 53703</p> -->
        </ion-item>

        <ion-item>
            <ion-icon style="color: #ADD4CE" name="calendar" item-start large></ion-icon>
            <h2 text-wrap>{{ location.StartDate }} - {{ location.EndDate }}</h2>
            <p> {{ location.StartTime }} - {{ location.EndTime }}</p>
        </ion-item>
      
        <ion-item>
            <ion-icon style="color: #ADD4CE" name="create" item-start large></ion-icon>
            <h2>Things to Bring</h2>
            <p>{{ location.established }}</p>
           
        </ion-item>
     <ion-grid text-center>
      <ion-row *ngIf="user_identification(location);else alternate2" text-center>
           
        <ion-col col-4 (click)='updateDocument(location)' text-center> 
            
              <ion-icon style="color: #ADD4CE" name="clipboard"></ion-icon>
                <div style="color: #ADD4CE">
                  UPDATE
                </div>
           
          </ion-col>
          <ion-col (click)="deleteDocument(location)" col-4  text-center>
            
              <ion-icon style="color: #ADD4CE" name="trash"></ion-icon><br>
              <div style="color: #ADD4CE">DELETE</div>
           
          </ion-col>
          <ion-col (click)="view(location)" col-4  text-center>
              
                <ion-icon style="color: #ADD4CE" name="people"></ion-icon><br>
                <div style="color: #ADD4CE">ATN</div>
              
            </ion-col>
     </ion-row>
     </ion-grid> 
    
   <ng-template #alternate2 >
     <ion-row>
      <ion-col (click)='signup_event(location)'>
         
            <ion-icon style="color: #ADD4CE" name="ios-person-add"></ion-icon>
            <div style="color: #ADD4CE">Register</div>
         
        </ion-col>
        <ion-col (click)='chat(location)'>
         
            <ion-icon  style="color: #ADD4CE" name="ios-chatbubbles"></ion-icon>
            <div style="color: #ADD4CE">Chat</div>
          
        </ion-col>
      </ion-row>
   </ng-template>
     
    </ion-card>
    </ion-item> 
  
  </ion-item-sliding>
  <!-- <ion-list class=“item-borderless” >
    <ion-item-sliding style="    
    margin-bottom: 20px;  border-radius: 15px;background-color: #077E6C;" 
    *ngFor='let location of locations' >
 
        <ion-item  no-lines style="background-color: #077E6C; padding-left:0px;">
          <ion-row style ="background-color: #077E6C;">
            <h6 style="margin-bottom: 20px;">{{location.StartDate}}</h6>
          </ion-row>
          <div ng-style="{'background-image': 'url('+location.image+')'}"></div>
          <ion-row>
            <ion-col col-3>
                
            </ion-col>

            <ion-col col-3>
                <h2>
                    {{ location.city }}  <br>    
                    {{ location.StartDate }} - {{ location.EndDate }}<br>       
                    {{ location.StartTime }} - {{ location.EndTime }}<br>
                    {{ location.location}}<br>
                    {{ location.population}}<br>
                    {{ location.established }}
                  </h2>
            </ion-col>
          </ion-row>
        <div class = "row">

            <div>
            
      
          
            </div>    
      <div>
        
    </div>
    </div> 
    </ion-item>
      <ion-item-options  side="right">
      <button
        ion-button
        color='secondary'
        (click)='updateDocument(location)' *ngIf="user_identification(location)">
        <ion-icon name="clipboard"></ion-icon>
        Update
      </button>

      <button
        ion-button
        color='danger'
        (click)="deleteDocument(location)" *ngIf="user_identification(location)">
        <ion-icon name="trash"></ion-icon>
        Delete
      </button>

      <button
      ion-button
      color='primary'
      (click)="view(location)" *ngIf="user_identification(location)">
      <ion-icon name="trash"></ion-icon>
      View<br>Attendees
    </button>

      <button
        ion-button
        color='secondary'
        (click)='signup_event(location)' *ngIf="user_identification_register(location)">
        <ion-icon name="ios-person-add"></ion-icon>
        Register
      </button>

      <button
      ion-button
      color='primary'
      (click)='chat(location)' *ngIf="user_identification_register(location)">
      <ion-icon name="ios-chatbubbles"></ion-icon>
      Chat
    </button>
    </ion-item-options>
    
    </ion-item-sliding>
  </ion-list> -->
  
</ion-content>
